
<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8"/>
		<meta name="mobile-web-app-capable" content="yes"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="apple-mobile-web-app-capable" content="yes"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<link href="./../video/assets/filmreel.png" rel="icon"/>
		<link href="./../video/assets/filmreel.png" rel="apple-touch-icon"/>
		<title>Video</title>

		<style type="text/css">
			html,body {height:100%; margin:0;}
			div#container {max-width:50rem; padding:.5rem .5rem 75rem; text-align:center;}
			div#container button {padding:.5rem 1rem; margin-bottom:1rem; border-radius:.5rem;}
			div#container div.vidboxA {position:relative; background-color:dodgerblue; padding:.5rem; border-radius:.25rem; transition:.5s;}
			/* div#container div.vidboxA div.vidboxB {} */
			/* div#container div.vidboxA div.vidboxB div.vidboxC {} */
			div#container div.vidboxA div.vidboxB div.vidFill {/*display:none;*/ padding-bottom:0; /*transition:1.5s;*/}
			div#container div.vidboxA div.vidboxB.min div.vidboxC {position:fixed; top:auto; left:auto; right:.5rem; bottom:.5rem;}
			div#container div.vidboxA div.vidboxB.min div.vidFill {width:100%; position:relative; padding-bottom:56.25%;}
			div#container div.vidboxA div.vidboxB div.vidboxC div.vidboxD {width:100%; position:relative; padding-bottom:56.25%;}
			div#container div.vidboxA div.vidboxB div.vidboxC div.vidboxD iframe.video {position:absolute; top:0; left:0; width:100%; height:100%;}

			@media screen and (min-width:992px) {
				div#container div.vidboxA div.vidboxB.min div.vidboxC {width:20%;}
			}
			@media screen and (max-width:991px) {
				div#container div.vidboxA div.vidboxB.min div.vidboxC {width:30%;}
			}
			@media screen and (max-width:767px) {
				div#container div.vidboxA div.vidboxB.min div.vidboxC {width:40%;}
			}
			@media screen and (max-width:575px) {
				div#container div.vidboxA div.vidboxB.min div.vidboxC {width:50%;}
			}
			@media screen and (max-width:400px) {
				div#container div.vidboxA div.vidboxB.min div.vidboxC {width:75%;}
			}
		</style>
		<script type="text/javascript">
			// Check scroll level when scrolling. 
			window.onscroll = checkVideo;

			function checkVideo() {

				// Get current scroll level. 
				let currentscrolllevel = document.documentElement.scrollTop || document.body.scrollTop;

				// Get full scroll height of document. 
				// let fulldocheight = $(document).height();
				let fulldocheight = document.documentElement.scrollHeight || document.body.scrollHeight;
				
				// Get current height of viewport. 
				// let viewportheight = $(window).height();
				let viewportheight = document.documentElement.getBoundingClientRect().height;

				// Get video height. 
				// let videoheight = $('div.vidboxA').height();
				let videoheight = document.querySelector('div.vidboxA').getBoundingClientRect().height;

				// Show the numbers. 
				console.log('Scroll level:', currentscrolllevel);
				console.log('Viewport height:',viewportheight);
				console.log('Full document height:',fulldocheight);
				console.log('Video height:',videoheight);
				// console.log();

				// Check if scrolled below video. 
				let scrolledbelowvideo = currentscrolllevel > .5*videoheight;
				console.log('Scrolled below video:',scrolledbelowvideo);

				// Minimize video to corner when scrolled enough. 
				if(scrolledbelowvideo) 
					// $('.vidboxB').addClass('min');
					document.querySelector('div.vidboxB').classList.add('min');
				else 
					// $('.vidboxB').removeClass('min');
					document.querySelector('div.vidboxB').classList.remove('min');
			}
		</script>
	</head>

	<body>

		<!-- #container -->
		<div id="container">

			<button onclick="document.querySelector('div.vidboxB').classList.toggle('min');">Toggle</button>

			<!-- vidboxA -->
			<div class="vidboxA">

				<!-- vidboxB -->
				<div class="vidboxB">

					<!-- vidFill -->
					<div class="vidFill"></div>
					<!-- /vidFill -->

					<!-- vidboxC -->
					<div class="vidboxC">
						<!-- vidboxD -->
						<div class="vidboxD">
							<iframe class="video" src="https://www.youtube.com/embed/pJwpmMo18vE?rel=0&amp;controls=0&amp;showinfo=0" allowfullscreen width="560" height="315" frameborder="0"></iframe>
						</div>
						<!-- /vidboxD -->
					</div>
					<!-- /vidboxC -->

				</div>
				<!-- /vidboxB -->

			</div>
			<!-- /vidboxA -->

		</div>
		<!-- /#container -->

	</body>

</html>
