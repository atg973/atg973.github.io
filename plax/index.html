
<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8"/>
		<meta name="mobile-web-app-capable" content="yes"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="apple-mobile-web-app-capable" content="yes"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<link href="./../atgicon.ico" rel="icon"/>
		<!-- <link href="./../atgicon.ico" rel="apple-touch-icon"/> -->
		<title>Group Parallax</title>

		<!-- jQuery -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript"></script>

		<style type="text/css">
			* {transition:.5s;}	/* Everything changes smoothly */
			html,body {height:100%; margin:0; font-family:sans-serif; overflow:hidden; /*border:8px solid transparent;*/}
			div#container {min-height:100%; box-sizing:border-box; overflow-x:hidden; overflow-y:auto; -webkit-overflow-scrolling:touch;}

			div#container {perspective:300px; perspective-origin:center; height:100%; overflow-x:hidden; overflow-y:auto;}
			div#container div.parallax_group {position:relative; height:100%; transform-style:preserve-3d; /*transition:.5s transform-style;*/}
			div#container div.parallax_group#group1 {z-index:5;}
			div#container div.parallax_group#group2 {z-index:3;}
			div#container div.parallax_group#group3 {z-index:4;}
			div#container div.parallax_group#group4 {z-index:2;}
			div#container div.parallax_group#group5 {z-index:3;}
			div#container div.parallax_group#group6 {z-index:2;}
			div#container div.parallax_group#group7 {z-index:3;}


			div#container div.parallax_group div.parallax_layer {position:absolute; top:0; right:0; bottom:0; left:0; /*padding-bottom:1200px;*/ /*border:1px solid #000;*/ box-shadow:0 0 0 2px #000;}
			div#container div.parallax_group div.parallax_layer.fore {transform:translateZ(150px) scale(0.5); /*z-index:1;*/}
			div#container div.parallax_group div.parallax_layer.base {transform:translateZ(0) scale(1); /*z-index:4;*/}
			div#container div.parallax_group div.parallax_layer.back {transform:translateZ(-300px) scale(2); /*z-index:3;*/}
			div#container div.parallax_group div.parallax_layer.deep {transform:translateZ(-600px) scale(3); /*z-index:2;*/}
			/* Factor of scale  =  [ 1 - (translateZ)/(perspective) ] */
			div#container div.parallax_group#group1 div.parallax_layer:first-child {background-color:rgb(102,204,102);}
			div#container div.parallax_group#group2 div.parallax_layer:first-child {background-color:rgb(123,210,102);}
			div#container div.parallax_group#group3 div.parallax_layer:first-child {background-color:rgb(153,216,101);}
			div#container div.parallax_group#group4 div.parallax_layer:first-child {background-color:rgb(184,223,101);}
			div#container div.parallax_group#group5 div.parallax_layer:first-child {background-color:rgb(214,229,100);}
			div#container div.parallax_group#group6 div.parallax_layer:first-child {background-color:rgb(245,235,100);}
			div#container div.parallax_group#group7 div.parallax_layer:first-child {background-color:rgb(255,241,100);}
			div#container div.parallax_group div.parallax_layer div.rep {position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:2em; text-transform:capitalize; border:solid; padding:.5em 1em .4em; background-color:#FFFA; border-radius:5rem; user-select:none;}

			/* Debugger */
			div#debugZone {position:fixed; top:1vh; right:1vh; background-color:#444; padding:.25rem .5rem; z-index:100; color:#FFF; font-weight:bold; font-size:12px; border-radius:.5rem; user-select:none;}
			div#debugZone div.group {margin:.25rem 0; text-align:center;}
			div#debugZone div.group label {margin-left:0px;}
			div#debugZone div.group button {border-radius:8px; padding:1px .5rem; font-weight:600; border:0 none;}
			div#debugZone div.group button.debugBtn {width:100%; padding:2px .5rem; margin-top:2px;}
			div#debugZone div.group button svg {display:block; font-size:1rem;}
			div#debugZone div#groupA {display:block;}
			div#debugZone div#groupB {display:none;}
			div#debugZone.modeB div#groupA {display:none;}
			div#debugZone.modeB div#groupB {display:block;}
			/*div#debugZone span {padding:3px 4px 3px 0px;}*/


			/* Debug Mode */

			/* div#container.debug {perspective:400px; transform:scale(1);} */
			div#container.debug div.parallax_group {transform:translate3d(200px,0,-3000px) rotateY(55deg); transform:translate3d(200px,-2000px,-2000px) rotateY(45deg); transform-style:preserve-3d;}
			div#container.debug div.parallax_group div.parallax_layer {opacity:0.9;}
			div#container.debug div.parallax_group div.parallax_layer.fore {transform:translateZ(150px);}
			div#container.debug div.parallax_group div.parallax_layer.base {transform:translateZ(0px);}
			div#container.debug div.parallax_group div.parallax_layer.back {transform:translateZ(-300px);}
			div#container.debug div.parallax_group div.parallax_layer.deep {transform:translateZ(-600px);}
			div#container.debug div.parallax_group div.parallax_layer div.rep {font-size:3em;}
		</style>

		<script type="text/javascript">
			var trX = 200;		// value of translateX distance
			var trY = -2000;	// value of translateY distance
			var trZ = -2000;	// value of translateZ distance
			var trphi = 45;		// value of rotateY angle

			// Toggle debugger. 
			function toggleDebugger() {
				// Check for debug mode. 
				let debugOn = $('#container').hasClass('debug');

				// Toggle debug mode. 
				// document.getElementById('container').classList.toggle('debug');
				// $('#container').toggleClass('debug');
				if(debugOn) {
					// Turn it off. 
					$('#container').removeClass('debug');

					// Reset transform values to default. 
					resetTransformValues();

					// Apply current transform values. 
					goTransform();
				}
				else {
					// Turn it on. 
					$('#container').addClass('debug');

					// Apply current transform values. 
					goTransform();
				}

				/*****/

				// Reset transform values to default. 
				function resetTransformValues() {
					trX = 200;
					trY = -2000;
					trZ = -2000;
					trphi = 45;
				}
			}

			// Change value of translateX distance. 
			function deltaX(amt) {
				trX += amt;
				goTransform();
			}
			// Change value of translateY distance. 
			function deltaY(amt) {
				trY += amt;
				goTransform();
			}
			// Change value of translateZ distance. 
			function deltaZ(amt) {
				trZ += amt;
				goTransform();
			}
			// Change value of rotateY angle. 
			function deltaPhi(amt) {
				trphi += amt;
				goTransform();
			}
			// Show the 3D transformation. 
			function goTransform() {
				// Check for debug mode. 
				let debugOn = $('#container').hasClass('debug');
				console.log('debugOn',debugOn);

				// Check for valid values. 
				let validTr = (trX || trY || trZ || trphi);
				console.log('validTr',validTr);

				// When appropriate, apply custom transform values. 
				if(debugOn && validTr) {
					$('div#container.debug div.parallax_group')
					.css('transform','translate3d('+trX+'px,'+trY+'px,'+trZ+'px) rotateY('+trphi+'deg)');
				}

				// Otherwise, revert to default mode. 
				else {
					$('div#container div.parallax_group').css('transform','');
				}
			}
		</script>
	</head>

	<body>

		<div id="container" class="parallax">

			<div id="group1" class="parallax_group">
				<div class="parallax_layer base">
					<div class="rep">base layer</div>
				</div>
			</div>

			<div id="group2" class="parallax_group">
				<div class="parallax_layer back">
					<div class="rep">background layer</div>
				</div>
				<div class="parallax_layer base">
					<div class="rep">base layer</div>
				</div>
			</div>

			<div id="group3" class="parallax_group">
				<div class="parallax_layer base">
					<div class="rep">base layer</div>
				</div>
				<div class="parallax_layer fore">
					<div class="rep">foreground layer</div>
				</div>
			</div>

			<div id="group4" class="parallax_group">
				<div class="parallax_layer deep">
					<div class="rep">deep background layer</div>
				</div>
				<div class="parallax_layer back">
					<div class="rep">background layer</div>
				</div>
				<div class="parallax_layer base">
					<div class="rep">base layer</div>
				</div>
			</div>

			<div id="group5" class="parallax_group">
				<div class="parallax_layer base">
					<div class="rep">base layer</div>
				</div>
				<div class="parallax_layer fore">
					<div class="rep">foreground layer</div>
				</div>
			</div>

			<div id="group6" class="parallax_group">
				<div class="parallax_layer back">
					<div class="rep">background layer</div>
				</div>
				<div class="parallax_layer base">
					<div class="rep">base layer</div>
				</div>
			</div>

			<div id="group7" class="parallax_group">
				<div class="parallax_layer base">
					<div class="rep">base layer</div>
				</div>
			</div>

		</div>

		<div id="debugZone">

			<div class="group">
				<button class="modeBtn" onclick="$('#debugZone').toggleClass('modeB');">Mode</button>
			</div>

			<div id="groupA">

				<div class="group">
					<button class="deltaTr ccw" onclick="deltaPhi(22.5)">
						<svg width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/>
							<path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/>
						</svg>
					</button>
					<button class="deltaTr up" onclick="deltaY(-250)">
						<svg width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z"/>
						</svg>
					</button>
					<button class="deltaTr cw" onclick="deltaPhi(-22.5)">
						<svg width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
							<path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
						</svg>
					</button>
				</div>
				<div class="group">
					<button class="deltaTr left" onclick="deltaX(-250)">
						<svg width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"/>
						</svg>
					</button>
					<button class="deltaTr down" onclick="deltaY(250)">
						<svg width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4z"/>
						</svg>
					</button>
					<button class="deltaTr right" onclick="deltaX(250)">
						<svg width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/>
						</svg>
					</button>
				</div>

				<div class="group">
					<button class="deltaTr back" onclick="deltaZ(-250)">
						<svg width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16">
							<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
						</svg>
					</button>
					<button class="deltaTr fwd" onclick="deltaZ(250)">
						<svg width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16">
							<path d="M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1A5 5 0 1 0 8 3a5 5 0 0 0 0 10z"/>
							<path d="M10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"/>
						</svg>
					</button>
				</div>
				
			</div>

			<div id="groupB">

				<div class="group">
					<button class="deltaTr" onclick="deltaX(-250)">&minus;</button>
					<button class="deltaTr" onclick="deltaX(250)">&plus;</button>
					<label>X</label>
				</div>
				<div class="group">
					<button class="deltaTr" onclick="deltaY(-250)">&minus;</button>
					<button class="deltaTr" onclick="deltaY(250)">&plus;</button>
					<label>Y</label>
				</div>
				<div class="group">
					<button class="deltaTr" onclick="deltaZ(-250)">&minus;</button>
					<button class="deltaTr" onclick="deltaZ(250)">&plus;</button>
					<label>Z</label>
				</div>
				<div class="group">
					<button class="deltaTr" onclick="deltaPhi(-22.5)">&minus;</button>
					<button class="deltaTr" onclick="deltaPhi(22.5)">&plus;</button>
					<label>&phi;</label>
				</div>
				
			</div>

			<div class="group">
				<button class="debugBtn" onclick="toggleDebugger();">Debug</button>
			</div>

		</div>

	</body>

</html>
